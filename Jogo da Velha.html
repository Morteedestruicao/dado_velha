<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo da Velha</title>
    <style type="text/css">
        td{
            height: 60px;
        }
    </style>
    <script type="text/javascript">
        let winner = false;
        let currentPlayer = 1;

        $(document).ready(function())

        $("td").click(jogar);
        $("#btnClean").click(clean);

        function clean(){
            $("td").text("");
            $("#winner").text("");
            $("td").on("click",jogar);
            winner = false;
        }

        function jogar(){
            if(currentPlayer == 1 && $(this).text() == ""){
                $(this).text("X");
                verificarVencedor();
                currentPlayer = 2;
            }
            else if ($(this).text() == ""){
                $(this).text("O");
                verificarVencedor();
                currentPlayer = 1;
            }
        }

        function verificarVencedor(){
            if($("#11").text() != "" && $("#11").text() == $("#12").text() && $("#12").text() == $("#13").text()){
                winner = true;
            }
            else if($("#21").text() != "" && $("#21").text() == $("#22").text() && $("#22").text() == $("#23").text()){
                winner = true;
            }
            else if($("#31").text() != "" && $("#31").text() == $("#32").text() && $("#32").text() == $("#33").text()){
                winner = true;
            }
            else if($("#11").text() != "" && $("#11").text() == $("#21").text() && $("#21").text() == $("#31").text()){
                winner = true;
            }
            else if($("#12").text() != "" && $("#12").text() == $("#22").text() && $("#22").text() == $("#32").text()){
                winner = true;
            }
            else if($("#13").text() != "" && $("#13").text() == $("#23").text() && $("#23").text() == $("#33").text()){
                winner = true;
            }
            else if($("#11").text() != "" && $("#11").text() == $("#22").text() && $("#22").text() == $("#33").text()){
                winner = true;
            }
            else if($("#13").text() != "" && $("#13").text() == $("#22").text() && $("#22").text() == $("#31").text()){
                winner = true;
            }
            if (winner) {
          let vitorias = parseInt($("#jogador_" + PlayerAtual).text());
          vitorias++;
          $("#jogador_" + PlayerAtual).text(vitorias);
        }
        }
    </script>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center">Jogo da velha</h1>
        <div class="col-sm-12 mt-5 text-center">
          <table class="table table-bordered">
              <thead>
              </thead>
              <tbody>
                  <tr>
                      <td id="11"></td>

                      <td id="12"></td>

                      <td id="13"></td>
                  </tr>
                  <tr>
                      <td id="21"></td>

                      <td id="22"></td>

                      <td id="23"></td>
                  </tr>
                  <tr>
                      
                    <td id="31"></td>

                    <td id="32"></td>

                    <td id="33"></td>
                </tr>
              </tbody>
          </table>
        </div>
        <div class="input-group mb-3">
          <div class="row">
              <div class="col-sm-12 text-center">
                <button class="btn btn-primary text-center" onclick="clean()">Limpar</button>
          </div>
          <div class="col-sm-12 mt-5 text-center">
            <h4>Player 1: <span id="jogador_1">0</span></h4>
            <h4>Player 2: <span id="jogador_2">0</span></h4>
          </div>
      </div>
    </div>
</body>
</html>